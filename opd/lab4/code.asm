ORG 0x176
START: CLA
ST RESULT
LD Z
PUSH
CALL $function
POP
DEC
SUB RESULT
ST RESULT
LD Y
PUSH
CALL $function
POP
SUB RESULT
ST RESULT
LD X
DEC
PUSH
CALL $function
POP
SUB RESULT
ST RESULT
HLT
X: WORD 0x0000
Y: WORD 0xA006
Z: WORD 0xFEC1
RESULT: WORD 0x00D7

ORG 0x6F5
function:
LD &1
BEQ A
BPL LOAD
A: CMP var_1
BLT LOAD
BEQ B
ADD &1
B: ADD var_2
JUMP SAVE
LOAD: LD var_1
SAVE: ST &1
RET
var_1: WORD 0xFC3B
var_2: WORD 0x00DA